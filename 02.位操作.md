#02.位操作

##2.1 按位与

按位与`x & y`，逐个位元进行条件与操作。

```
  0100 1001
& 0101 0011
-----------
  0100 0001
```

##2.2 按位或

按位或`x | y`，逐个位元进行条件或操作。


```
  0100 1001
| 0101 0011
-----------
  0101 1011
```

##2.3 按位异或

按位异或`x ^ y`，两个字组，对应相同的位元取值1，其他则为0。

```
  0100 1001
^ 0101 0011
-----------
  1110 0101
```

##2.4 左移

左移动`x << y`，以0填补空缺位元。

```
  0100 1001
<<4 
-----------
  1001 0000
```

##2.5 右移

右移动`x >> y`，根据x的符号来决定补空缺位元。

```
  0100 1001
>>2 
-----------
  0001 0010 （假设以0填充）
```

在有符号整数中，二进制的第一位用于表示整数符号，0为正数，1为负数。所以右移分为两种情况：**无符号右移**和**有符号右移动**。

**无符号右移**：不管操作数是正数还是负数，向右移动后，使用0来补空缺位元。无符号右移使用`>>>`表示。

**有符号右移**：如果操作数是负数，向右移动后，使用1来补空缺位元。有符号右移动使用`>>`表示。

负数情况：
```Java
System.out.println(0b11111111_11111111_11111111_11111000);       // -8
System.out.println(0b11111111_11111111_11111111_11111000 >> 1);  // -4
System.out.println(0b11111111_11111111_11111111_11111000 >>> 1); // 2147483644
```
正数情况：
```Java
System.out.println(0b0000000_0000000_00000000_00001000);        // 8
System.out.println(0b0000000_0000000_00000000_00001000 >> 1);   // 4
System.out.println(0b0000000_0000000_00000000_00001000 >>> 1);  // 4
```

##2.6 二进制转十六进制

利用按位与和右边移操作，将二进制表示的数据转为十六进制表示：

```Java
public static String toHexString(byte[] data) {
	int length = data.length;
	char[] hexchars = new char[length << 2];
	for (int i = 0, j = 0; i < length; i++) {
		hexchars[j++] = HEX_DIGITS[((data[i] >>> 4) & 0x0F)];
		hexchars[j++] = HEX_DIGITS[(data[i] & 0x0F)];
	}
	return new String(hexchars);
}

private static final char[] HEX_DIGITS = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D',
		'E', 'F' };
```